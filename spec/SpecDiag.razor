<Dialog @bind-Visible="IsVisible">
  <EditForm Model="Model" OnValidSubmit="HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-group">
      <label>Name</label>
      <InputText @bind-Value="Model.Name" class="form-control" />
    </div>
    <div class="form-group">
      <label>Effective Date</label>
      <InputDate @bind-Value="Model.EffectiveDate" class="form-control" />
    </div>
    <div class="form-group">
      <label>Expiration Date</label>
      <InputDate @bind-Value="Model.ExpirationDate" class="form-control" />
    </div>

    <div class="modal-footer">
      <button class="btn btn-secondary" type="button" @onclick="() => IsVisible = false">Cancel</button>
      <button class="btn btn-primary" type="submit">Save</button>
    </div>
  </EditForm>
</Dialog>

@code {
  [Parameter] public bool            IsVisible { get; set; }
  [Parameter] public SpeciesDto     Model     { get; set; } = new();
  [Parameter] public EventCallback<SpeciesDto> OnSave { get; set; }

  private async Task HandleValidSubmit()
  {
    await OnSave.InvokeAsync(Model);
    IsVisible = false;
  }
}
